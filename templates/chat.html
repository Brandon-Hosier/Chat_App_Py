<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Room</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <h1>Welcome to Room: {{ room_code }}</h1>
        <div id="chat">
            <ul id="messages"></ul>
        </div>
        <form method="POST">
            <div class="emoji-buttons">
                <select>
                        <option value="😀">😀</option>
                        <option value="😁">😁</option>
                        <option value="😂">😂</option>
                        <option value="😃">😃</option>
                        <option value="😄">😄</option>
                        <option value="😅">😅</option>
                        <option value="😆">😆</option>
                        <option value="😉">😉</option>
                        <option value="😊">😊</option>
                        <option value="😋">😋</option>
                        <option value="😎">😎</option>
                        <option value="😍">😍</option>
                        <option value="😘">😘</option>
                        <option value="😗">😗</option>
                        <option value="😙">😙</option>
                        <option value="😚">😚</option>
                        <option value="😜">😜</option>
                        <option value="😝">😝</option>
                        <option value="😛">😛</option>
                        <option value="🤑">🤑</option>
                        <option value="🤗">🤗</option>
                        <option value="🤔">🤔</option>
                        <option value="🤩">🤩</option>
                        <option value="🤪">🤪</option>
                        <option value="🤨">🤨</option>
                        <option value="😐">😐</option>
                        <option value="😑">😑</option>
                        <option value="😶">😶</option>
                        <option value="🙄">🙄</option>
                        <option value="😏">😏</option>
                        <option value="😒">😒</option>
                        <option value="😞">😞</option>
                        <option value="😔">😔</option>
                        <option value="😟">😟</option>
                        <option value="😕">😕</option>
                        <option value="🙁">🙁</option>
                        <option value="☹️">☹️</option>
                        <option value="😣">😣</option>
                        <option value="😖">😖</option>
                        <option value="😫">😫</option>
                        <option value="😩">😩</option>
                        <option value="🥺">🥺</option>
                        <option value="😭">😭</option>
                        <option value="😤">😤</option>
                        <option value="😠">😠</option>
                        <option value="😡">😡</option>
                        <option value="🤬">🤬</option>
                        <option value="🤯">🤯</option>
                        <option value="😳">😳</option>
                        <option value="🥵">🥵</option>
                        <option value="🥶">🥶</option>
                        <option value="😱">😱</option>
                        <option value="😨">😨</option>
                        <option value="😰">😰</option>
                        <option value="😥">😥</option>
                        <option value="😓">😓</option>
                        <option value="🤤">🤤</option>
                        <option value="😪">😪</option>
                        <option value="😴">😴</option>
                </select>
            </div>
        </form>
        <form method="POST">
            <input id="message" name="message" type="text" placeholder="Type a message" required>
            <button type="submit">Send</button>
        </form>
        <button id="leaveBtn">Leave Room</button>
    </div>

    <script>
        const socket = io();
        const room = "{{ room_code }}";
        const username = "{{ username }}";
        socket.emit('join', { room, username });

        socket.on('message', (msg) => {
            const li = document.createElement('li');
            li.textContent = msg;
            document.getElementById('messages').appendChild(li);
        });

        document.getElementById('leaveBtn').onclick = () => {
            socket.emit('leave', { room, username });
            window.location.href = '/';
        };

        function addEmoji(emoji) {
            const messageInput = document.getElementById('message');
            messageInput.value += emoji; 
        }
    </script>
</body>
</html>



